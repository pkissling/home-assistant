---

# Temp
- type: custom:stack-in-card
  mode: horizontal
  cards:
    - type: custom:mini-graph-card
      name: Home-Server
      entities:
        - sensor.home_server_cpu_composite_temperature
      lower_bound: 20
      upper_bound: 60
      decimals: 0
      show:
        points: false
        labels: false
    - type: custom:mini-graph-card
      name: Diskstation
      entities:
        - sensor.diskstation_physical_id_0_temperature
      lower_bound: 20
      upper_bound: 60
      decimals: 0
      show:
        points: false
        labels: false

# RAM
- type: custom:stack-in-card
  mode: horizontal
  cards:
    - type: custom:mini-graph-card
      name: Home-Server
      entities:
        - sensor.home_server_ram_used_percent
      lower_bound: 0
      upper_bound: 100
      decimals: 1
      show:
        points: false
        labels: false
    - type: custom:mini-graph-card
      name: Diskstation
      entities:
        - sensor.diskstation_ram_used_percent
      lower_bound: 0
      upper_bound: 100
      decimals: 1
      show:
        points: false
        labels: false


# CPU Usage
- type: custom:stack-in-card
  mode: horizontal
  cards:
    - type: custom:mini-graph-card
      name: Home-Server
      entities:
        - sensor.home_server_cpu_used
      lower_bound: 0
      upper_bound: 100
      decimals: 1
      show:
        points: false
        labels: false
    - type: custom:mini-graph-card
      name: Diskstation
      entities:
        - sensor.diskstation_cpu_used
      lower_bound: 0
      upper_bound: 100
      decimals: 1
      show:
        points: false
        labels: false

# CPU Load
- type: custom:stack-in-card
  mode: horizontal
  cards:
    - type: custom:mini-graph-card
      name: Home-Server
      entities:
        - sensor.home_server_cpu_load
      lower_bound: 0
      upper_bound: 2
      decimals: 2
      show:
        points: false
        labels: false
        graph: bar
      color_thresholds:
        - value: 1.00
          color: var(--primary-color)
        - value: 1.01
          color: '#d35400'
    - type: custom:mini-graph-card
      name: Diskstation
      entities:
        - sensor.diskstation_cpu_load
      lower_bound: 0
      upper_bound: 2
      decimals: 2
      show:
        points: false
        labels: false
        graph: bar
      color_thresholds:
        - value: 1.00
          color: var(--primary-color)
        - value: 1.01
          color: '#d35400'

# Storage
- type: custom:stack-in-card
  title: Storage
  mode: vertical
  cards:
    - type: custom:bar-card
      entity: sensor.home_server_etc_hostname_used_percent
      positions:
        name: off  # yamllint disable-line rule:truthy
    - type: custom:bar-card
      entity: sensor.diskstation_etc_hostname_used_percent
      positions:
        name: off  # yamllint disable-line rule:truthy

# home-server
- type: entities
  title: Home-Server
  entities:
    - sensor.home_server_uptime
    - sensor.cert_expiry_days_ha
    - binary_sensor.internet_health_check
    - binary_sensor.healthcheck_io_home_server_backup
    - entity: sensor.plug_living_room_home_server
      name: Current Power Consumption
    - entity: sensor.plug_living_room_home_server_average
      name: Average Power Consumption

    # home-server
- type: entities
  title: Diskstation
  entities:
    - sensor.diskstation_uptime
    - binary_sensor.diskstation_ping

# Connectivity
- type: entities
  title: Connectivity
  entities:
    - binary_sensor.mqtt_broker_health
    - binary_sensor.zigbee2mqtt_availability
    - binary_sensor.ib1903757824_connection_state
    - binary_sensor.openvpn_status

# MQTT messages
- type: custom:stack-in-card
  mode: horizontal
  cards:
    - type: custom:mini-graph-card
      entities:
        - entity: sensor.mosquitto_messages_sent_1min
          name: Sent
        - entity: sensor.mosquitto_messages_received_1min
          name: Received
      show:
        points: false
        labels: false
        name: false
        icon: false
      points_per_hour: 60
      smooting: false
