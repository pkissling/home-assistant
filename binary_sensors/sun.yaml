---

- platform: template
  sensors:
    sun:
      value_template: >
        {% if not is_state('sensor.motion_corridor_lightlevel', 'unknown') and not is_state('sensor.motion_corridor_lightlevel', 'unavailable') %}
          {{
            states('sensor.motion_corridor_lightlevel') | int > 40
              or
            '08:54' < states('sensor.time') < '15:54'
          }}
        {% else %}
          {{ is_state('sun.sun', 'above_horizon') }}
        {% endif %}
